% ============================================
%  Article Class (This is a LaTeX2e document)
% ============================================
\documentclass[12pt]{scrartcl}
\usepackage[english]{babel}
\usepackage[round]{natbib}
\usepackage[T1]{fontenc}
\usepackage{color}

% ============================
%  Figures and relative paths
% ============================
\usepackage{graphicx}
\graphicspath{{figures/}}

% =======================
%  References to classes
% =======================
\usepackage[colorlinks=true]{hyperref}
% metabolism
\newcommand{\rbametabolism}{\hyperref[sec:rba_metabolism]{\textbf{RBAMetabolism}}}
\newcommand{\compartment}{\hyperref[sec:compartment]{\textbf{Compartment}}}
\newcommand{\species}{\hyperref[sec:species]{\textbf{Species}}}
\newcommand{\reaction}{\hyperref[sec:reaction]{\textbf{Reaction}}}
\newcommand{\speciesreference}{\hyperref[sec:species_reference]{\textbf{SpeciesReference}}}
% parameters
\newcommand{\rbaparameters}{\hyperref[sec:rba_parameters]{\textbf{RBAParameters}}}
\newcommand{\targetdensity}{\hyperref[sec:target_density]{\textbf{TargetDensity}}}
\newcommand{\targetvalue}{\hyperref[sec:target_value]{\textbf{TargetValue}}}
\newcommand{\function}{\hyperref[sec:function]{\textbf{Function}}}
\newcommand{\parameter}{\hyperref[sec:parameter]{\textbf{Parameter}}}
\newcommand{\aggregate}{\hyperref[sec:aggregate]{\textbf{Aggregate}}}
\newcommand{\functionreference}{\hyperref[sec:function_reference]{\textbf{FunctionReference}}}
%macromolecules
\newcommand{\rbamacromolecules}{\hyperref[sec:rba_macromolecules]{\textbf{RBAMacromolecules}}}
\newcommand{\component}{\hyperref[sec:component]{\textbf{Component}}}
\newcommand{\macromolecule}{\hyperref[sec:macromolecule]{\textbf{Macromolecule}}}
\newcommand{\componentreference}{\hyperref[sec:component_reference]{\textbf{ComponentReference}}}
% processes
\newcommand{\rbaprocesses}{\hyperref[sec:rba_processes]{\textbf{RBAProcesses}}}
\newcommand{\process}{\hyperref[sec:process]{\textbf{Process}}}
\newcommand{\machinery}{\hyperref[sec:machinery]{\textbf{Machinery}}}
\newcommand{\machinerycomposition}{\hyperref[sec:machinery_composition]{\textbf{MachineryComposition}}}
\newcommand{\operations}{\hyperref[sec:operations]{\textbf{Operations}}}
\newcommand{\operation}{\hyperref[sec:operation]{\textbf{Operation}}}
\newcommand{\componentmap}{\hyperref[sec:component_map]{\textbf{ComponentMap}}}
\newcommand{\constantcost}{\hyperref[sec:constant_cost]{\textbf{ConstantCost}}}
\newcommand{\cost}{\hyperref[sec:cost]{\textbf{Cost}}}
\newcommand{\targets}{\hyperref[sec:targets]{\textbf{Targets}}}
\newcommand{\targetspecies}{\hyperref[sec:target_species]{\textbf{TargetSpecies}}}
\newcommand{\targetreaction}{\hyperref[sec:target_reaction]{\textbf{TargetReaction}}}
% enzymes
\newcommand{\rbaenzymes}{\hyperref[sec:rba_enzymes]{\textbf{RBAenzymes}}}
\newcommand{\enzyme}{\hyperref[sec:enzyme]{\textbf{Enzyme}}}
\newcommand{\enzymaticactivity}{\hyperref[sec:enzymatic_activity]{\textbf{EnzymaticActivity}}}
\newcommand{\enzymeefficiency}{\hyperref[sec:enzyme_efficiency]{\textbf{EnzymeEfficiency}}}



% ==========
%  Document
% ==========
\begin{document}

\title{XML format for RBA models}
\author{S. Fischer, V. Fromion, A. Goelzer}
\date{\today}

\maketitle

\newpage

\tableofcontents

\newpage

\section{Introduction}

In this document we present the XML structures used to define a RBA model.
A complete RBA model is composed of the following files:
\begin{itemize}
  \item metabolism.xml
  (definition of compartments, metabolic species and metabolic reactions).
  \item parameters.xml
  (definition of density constraints and user-defined functions).
  \item proteins.xml (definition of proteins).
  \item rnas.xml (definition of RNAs).
  \item dna.xml (definition of DNA).
  \item enzymes.xml
  (definition of enzymatic machineries catalyzing metabolic reactions).
  \item processes.xml
  (definition of cell processes necessary to growth and maintenance).
\end{itemize}

For every file, we present the nodes that compose the XML structure.
For every node, we show a class diagram that shows the node's attributes
and the children nodes that it may/must contain.
We provide a brief description about the relevance of the node
in the RBA model.


\section{Conventions}

\subsection{Naming conventions}

In XML, classes follow ThisConvention, instances thisConvention.
In the Python package, classes follow ThisConvention, instances this\_convention.
In the Python package, instance listOfThings simply becomes things.
Throughout this document, XML conventions are used.
Keep in mind that the convention for instances is different when using the
Python package.

\subsection{Boolean attributes}

A boolean attribute evaluates to true if it is \texttt{"1"}
or \texttt{"true"} (case does not matter).
In all other cases it evaluates to false.

\subsection{Variable for transport functions}

A metabolite identifier is expected to look like \texttt{M\_met\_c},
where \textbf{M} is a generic prefix (identical for all metabolites),
\textbf{met} is the name of the metabolite
and \textbf{c} its compartment.
The variable for a transport function (see \enzymaticactivity) must be the
\emph{prefix} of a metabolite, in this case \texttt{M\_met}.
Every time a transport function based on \textbf{met} is evaluated,
the external concentration is used
\emph{no matter where the transport takes place}.
Typically, glucose import rates from the periplasm to the cytosol
will be based on the concentration of extracellular glucose.

\input{xml_metabolism}
\input{xml_parameters}
\input{xml_macromolecules}
\input{xml_processes}
\input{xml_enzymes}


\end{document}
% ----------------------------------------------------------------
